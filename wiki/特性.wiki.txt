
#contents

* 概要 [#g41698e8]

v0で追加されたシステム。

魔法植物および、その種子（各種球根など）であるアイテムが持っているパラメータ。

----

特性は、「空気適応101」のように2進数で表記されるレベルを持つ。
- 所持特性のパワーは、「各ビットの位置の合計」で計算される。
-- 例えば、「101」は3番目と1番目のビットを持っているので、パワーは4である。
-- 「10000 00000」であればパワーは10、「101000」も6+4でパワー10である。
-- v18ku以前は「2進数表記された数値」をそのまま使用していたが、v19kuから「ビット位置の合計」となった。
- 大雑把に言えば、''桁がでかくて1がいっぱいあるほど強い''。

----

特性は、0個以上の特性条件と、特性効果を持つ。
- 同じ特性効果でも特性によってはその効果量が異なる場合がある。

----

v12から、各特性にアイコンやポエムが設定された。
- REI/EMIや特性GUIから参照可能。

----

v26kuで特性効果全体にまたがる大きな変更があった。
- 条件付きの特性の効果が数倍大きくなった。
- いくつかの特性の効果が変わった。
- 多くの特性効果がナーフを食らった。

** 特性条件 [#r0ac3cde]

特性条件は、環境の状況に従ってパーセンテージを計算し、特性効果がどのくらいの割合で発動するかを左右する。
特性条件が設定されていない特性は常に100%、複数設定されている場合はそれらを乗算する。

特性条件の一覧はページ下部を参照。

** 特性効果 [#r0ac3cde]

特性効果は、魔法植物に対して成長速度や収穫量といった実際の効果を与える。

特性効果の一覧はページ下部を参照。

** ネガティブビット [#r9617034]

v21.9kuで追加された機能。

----

クライアント上でそのビットが「デメリット扱い」になるという機能。
- 具体的には、特性ビット数の集計や特性の比較時に「未所持時に+1b」として計上されるようになる。
- 表示上のみであり、挙動には影響しない。
- クライアントを再起動するとリセットされる。

----

クライアント上で特定のコマンドを打つことによって付与できる。

コマンドは以下のフォーマット。

# /mf24c trait negative 特性ID [ビット]

- 特性IDは基本的には英語版の表記と同一。
- [ビット]を省略して呼び出すと、全ビットをネガティブに指定する。
- ビットを0として呼び出すとネガティブビットを解除できる。

----

例

# /mf24c trait negative miragefairy2024:adversity_flower 1111

これは高根の花の4個のビット1111を「デメリット」扱いにする。

* 入手 [#a0f00255]

まだ入手したことがない特性を新規に入手するは、基本的に地形生成される魔法植物から入手する。

----

魔法植物の種類ごとに「初期所持特性ビット」および「特性の抽選リスト」が設定されており、
魔法植物は地形生成時に初期所持特性ビットとランダムに抽選されたビットをもって生まれる。
- ビットの出現率は、ビット位置が左にずれるごとに√10分の1となる。
-- つまり、2個左のビットは10倍出にくい。
- ランダムに抽選されたビットが初期所持特性ビットだった場合、そのビットは欠損となる。

----

v18ku以前は特性の出現率にバイオームが関与していたが、v19ku以降魔法植物ごとに排出テーブルが固定となり、環境に左右されなくなった。
- ビットごとの出現率やレア度の違いもなくなり、単純にビット位置が左にあるほどレアになった。

----

特性を交配で付与する場合は、魔法植物ごとのスポーン特性リストを無視し、交配が可能であればどんな特性でも付与できる。

----

魔法植物の所持特性は魔法植物データを参照。

* 交配 [#r2b7a205]

交配を行うことで、魔法植物の特性をミックスできる。

** 手順 [#z6725b50]

+ 交配を行うには、まず同種の（交雑特性効果がある場合は同じ「科」の）魔法植物を隣接して植える必要がある。
+ 次に、両方とも最大の成長段階にする。
+ そして片方を収穫した際に、ドロップした種子（球根）が交配された種子になる。
-- 収穫時に追加の種子がドロップしなければ交配は起こらない。
-- 株を解体した際にも交配が行われるが、確定で戻ってくる分の種子1個は交配されない。

----

より厳密には、「株の解体や収穫によって追加種子をドロップする際に、隣接マスに適切な成長段階の同種の魔法植物があった場合に、追加種子が交配済みの種子になる」という判定。
- 開花状態の株が並んでいるとき、端から順番に壊せば最後の1個以外は交配種子になる。
- 中央を先に壊した場合、孤立した株が複数生じ、交配のチャンスが減ってしまう。

----

単体で植えるか、完全に同一の遺伝子の株だけでまとめて植えれば必ず同じ種子が複製される。

** 特性のミックスのアルゴリズム [#e982de33]

*** 交配相手の選択 [#ye7af938]

特性は必ず2個の親の間で起こる。
- 隣接マスに条件を満たす株が複数あった場合、ランダムで1個の相手と交配される。

*** 特性の継承 [#y5a44400]

両親が持っているすべての特性について、各ビットごとに、
両親が持っているものは確実に継承、
片親だけが持っているものは50％の確率で継承、
両親が持っていないものは確実に不継承となる。

----

例えば、空気適応101の親Aと空気適応1001の親Bが交配した場合、
子は以下の4パターンのうちのいずれかの空気適応を持つ。

# 0 1 0 1  親A
# 1 0 0 1  親B
# 　
# 0 0 0 1  パターンA  25%
# 0 1 0 1  パターンB  25%
# 1 0 0 1  パターンC  25%
# 1 1 0 1  パターンD  25%
#       ↑両親が持っているので確実に継承される
#     ↑両親が持っていないので確実に継承されない
#   ↑片親が持っているので50%の確率で継承される
# ↑片親が持っているので50%の確率で継承される

*** 特性の選択 [#ff6ed54a]

合計の特性が15個を超えた場合、15個以下になるまでランダムに特性を消す。
ただし、両親が所持しているビットを含む特性は確定継承特性となり、消えることはない。

----

特性には基本的にデメリットは無いものの、発動していない特性は付いているだけで枠数を食う。
場合によっては特性を退化させるためにわざわざ交配することも考えられる。

上の項目で述べたように、両親が持っている特性ビットを自由に削除することはできない。
特性ビットを消すにはそのビットを持っていない親が必要である。

** 効率のいい特性の付け方 [#jcb130c3]

具体的な品種改良の戦略は、魔法植物の記事に詳しい。

* 余談 [#jbe3f866]

特性システムはv12で根本的に多くの部分が変更された。 
- Wikiの情報はv11以前のものも多く、一部は役に立たないこともある。

----

その後、v19kuで再び大きく変更された。

* 一覧 [#l839a485]

** 特性 [#ac202e3f]

特性の一覧は特性データ（ポエム、世界観関連）や魔法植物データ（魔法植物ごとの所持表）を参照。

** 特性条件 [#r0ac3cde]

*** 地面系 [#lee91cd4]

|CENTER:|CENTER:||c
|CENTER:条件|CENTER:地面のブロック|CENTER:栄養値|h
|湿った地面|砂|25%|
|~|土|50%|
|~|耕地|湿り具合によって50%から100%の間で変動|
|鉱物質の地面|銅ブロック&br;石炭ブロック|20%|
|~|鉄ブロック&br;レッドストーンブロック&br;ラピスラズリブロック|40%|
|~|金ブロック&br;ネザークォーツブロック|60%|
|~|エメラルドブロック&br;アメジストブロック|80%|
|~|ダイヤモンドブロック|100%|
|硬い地面|つるはしで採掘可能なブロック|丸石を100%としたときの地面の硬さに従って&br;0%〜200%の間で変動|

- 硬い地面
-- 鉱石ブロックや原石ブロック、石炭ブロック、黒曜石などが狙い目。
-- 岩盤はつるはし対応でないため無効。

*** 光量系 [#u75287a3]

|CENTER:|CENTER:||c
|CENTER:条件|CENTER:判定対象|CENTER:対応|h
|光|太陽光＆人工光|8以下では0%、8から15にかけて明るくなるほど0%から100%の間で変動|
|闇|太陽光＆人工光|7以上では0%、7から0にかけて暗くなるほど0%から100%の間で変動|
|日照環境|晴天・白昼での太陽光|オーバーワールドかつ、0から15にかけて明るくなるほど0%から100%の間で変動|

日照環境はその時点での天候や時間帯に左右されず、松明などの光を無視する。

*** 気温・湿度系 [#c8dadd6e]

|CENTER:||c
|CENTER:条件|CENTER:説明|h
|低い気温|バイオームの温度が低いときに100%、そうでないときに0%。|
|普通の気温|バイオームの温度が中程度のときに100%、そうでないときに0%。|
|高い気温|バイオームの温度が高いときに100%、そうでないときに0%。|
|低い湿度|バイオームの湿度が低いときに100%、そうでないときに0%。|
|普通の湿度|バイオームの湿度が中程度のときに100%、そうでないときに0%。|
|高い湿度|バイオームの湿度が高いときに100%、そうでないときに0%。|

これらの判定は、バイオームごとに付与されたタグによって行われる。

----

各バイオームおよび各魔法植物の対応環境は魔法植物データを参照。

*** 高度系 [#oe5cac03]

|CENTER:||c
|CENTER:条件|CENTER:説明|h
|高地|Y64からY192にかけて、0%から100%に効果が増加。ネザーは0%、エンドは100%で固定。|
|低地|Y64からY-64にかけて、0%から100%に効果が増加。ネザーは100%、エンドは0%で固定。|

*** 屋外 [#t4105f79]

その場所が屋外であるときに100%、そうでないときに0%。
- パッシブスキルの屋外判定と同一の部分を参照する。

*** 天然 [#w3049d23]

その株が地形生成直後で、1度も収穫していない場合にのみ有効。
- v11以前に生成されたものはすべて非天然扱い。

*** 晴れ [#f777b839]

植えられた座標の環境が雨や雪でない場合にのみ有効。
- これは屋根判定を無視し、ディメンションとバイオームとそのタイミングにのみ影響を受ける。
- 元々雨が降らない砂漠や、天候のないネザーやエンドでは常に満たした状態になる。

v29kuで追加された。

*** 夜 [#h41ab43a]

そのディメンションに昼夜があり、かつ夜である場合にのみ有効。
- 昼夜の無いネザーやエンドでは無効。
- 屋内や地下で空が見えていなくても、時間帯が夜であれば有効。

v29kuで追加された。

** 特性効果 [#s2bac0c5]

*** 基本3要素 [#ad8731bc]

いずれも実際の成長速度にそのまま乗算される。
- 0%の場合、まったく成長しない。

|特性効果|効果値|h
|BGCOLOR(#99DD99):栄養値|1-0.9^パワー|
|BGCOLOR(#E89D84):気温環境値|1-0.9^パワー|
|BGCOLOR(#8ECCCC):湿度環境値|1-0.9^パワー|

- &color(,#99DD99){栄養値};
-- 「その植物がどこから栄養素を得ているか」を表す特性に付く。
-- しばしば条件が設定されており、条件を満たすように栽培することで成長が加速、解禁される。
-- ミラージュ科とルミナリア科は無条件発動の栄養値特性を持つため、あまり気にしなくてもよい。
-- ヴェロペダ科とメルルルリア科は条件付きの栄養値特性しか入手できず、条件を合わせる必要がある。
- &color(,#E89D84){気温環境値};・&color(,#8ECCCC){湿度環境値};
-- 一部の例外を除き、高・中・低の環境パラメータに対応した適応系特性にのみ付く。
-- 実質的に「特定の環境でしか育たない」条件として機能する。
-- ミラージュ科植物はワイルドカードの空間適応があるため、どのような環境でも一応育つ。
-- 他にはアカーシャのお導きというクリエイティブ専用特性で付与できる。
- v26kuで大幅な下方修正を受けた。
-- パワー1のときに10%、パワー2のときに19%と、100%に漸近する。
-- パワーが10のとき、従来では100%になったが、修正後は65%にしかならない。
-- そして100%以上になることはなくなったため、ある程度以上は上げる恩恵が薄くなる。

*** 生成系 [#v22a223e]

これらの特性効果は、収穫時に特定の何かを生成する。

|特性効果|効果値|生成物|h
|BGCOLOR(#FFC587):種子生成|0.1×パワー|その魔法植物の「種子」（＝球根）の追加分|
|BGCOLOR(#FF87BF):果実生成|0.1×パワー|「果実」に設定されている生産物|
|BGCOLOR(#32C900):葉面生成|0.1×パワー|「葉」に設定されている生産物|
|BGCOLOR(#00E2E2):希少品生成|0.1×パワー|「レア素材」に設定されている生産物|
|BGCOLOR(#00D390):特殊品生成|0.1×パワー|魔法植物固有の「特殊な生産物」|
|BGCOLOR(#EFEF00):経験値生成|0.1×パワー|経験値オーブ|

- &color(,#ffc587){種子生成};
-- 魔法植物は、「植えたときに使った種子」を確定で1個と「種子生成により増えた分の種子」を両方ドロップする。
-- このうち、種子生成は後者の追加分の個数に影響する。
-- 種子生成で追加される種子は、交配や突然変異の影響を受ける。
- &color(,#00D390){特殊品生成};
-- ルミナリアのルミナイトでない方の宝石など。
- &color(,#EFEF00){経験値生成};
-- 100%のときに、1回の収穫時に1ドロップする。
-- v9までは開花していない株を壊しても経験値を生成するバグがあった。
-- v11から、自然落果時は無効になった。
- この効果群はv26kuの下方修正を受けなかった。
-- 単純にビットパワーに比例して収穫物の量が増える。

*** ブースト系 [#wceb4c70]

これらの特性効果は、無くても問題ないが、あると成長速度や生産量を飛躍的に増加させる。

|特性効果|効果値|説明|h
|BGCOLOR(#00C600):成長速度ブースト|√(0.1×パワー)|成長の速度に(100% + 成長速度)を乗じる|
|BGCOLOR(#FF4242):生産量ブースト|√(0.1×パワー)|生産物の獲得量に(100% + 生産能力)を乗じる|

- v26kuで部分的に下方修正を受けた。
-- パワー10のときに+100%は変わらず、それ以上なら大きく効率ダウン、それ以下なら効率アップ。

*** 幸運係数 [#g6a0717a]

生産物の獲得量に(100% + 幸運係数 × 幸運エンチャント（Fortune）および運アトリビュート（Luck）の合計値)を乗じる。

|特性効果|効果値|h
|BGCOLOR(#FF4FFF):幸運係数|√(0.1×パワー)|

- v26kuで部分的に下方修正を受けた。
-- ブースト系と同様。

*** 自然落果 [#jb2c1f4c]

成長判定が終わった後、収穫可能であれば表記された確率で自動で収穫する。
- 10レベルごとに50%の確率で伸びる。

|特性効果|効果値|h
|BGCOLOR(#5959FF):自然落果|1-0.5^パワー|

魔法植物が他のアイテムや経験値オーブと重なっている場合は無効になる。

*** 交雑 [#q425c25b]

交配時に、同一の「科」の異種の魔法植物が、表記された確率で交配対象に加わる。
- 収穫する方に付与する必要があり、交配相手側に付与されたものは無視される。
- 種子の種類は収穫した魔法植物のもので固定のため、交雑によって特性を輸入することはできるが、輸出はできない。

|特性効果|効果値|h
|BGCOLOR(#FFA011):交雑|1-0.5^パワー|

*** 突然変異 [#r5f2eed1]

種子の追加ドロップが生じた際に、確率で地形生成時と同じテーブルで特性ビットが変異する。

|特性効果|効果値|h
|BGCOLOR(#FF668C):突然変異|1-0.5^パワー|

詳細は突然変異の項目を参照。

*** 種子希釈 [#iafd729c]

100%につき、種子のドロップ数の上限を1上げる。
- 通常は3。

|特性効果|効果値|h
|BGCOLOR(#FF8C63):種子希釈|0.1×パワー|
